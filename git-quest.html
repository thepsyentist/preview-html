<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Git Quest â€” Trunk-Based Development ë§ˆìŠ¤í„°í•˜ê¸°</title>
<style>body{margin:0;padding:0;background:#0b0b12;}</style>
<link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;600&family=Noto+Sans+KR:wght@400;500;600;700;900&display=swap" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.9/babel.min.js"></script>
</head>
<body>
<div id="root"></div>
<script type="text/babel">
const { useState, useEffect, useRef, useCallback } = React;


// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// DATA
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

const CHAPTERS = [
  {
    id: 1, title: "Git ê¸°ì´ˆ", icon: "ğŸ’¡", color: "#6366f1",
    stages: [
      {
        id: "1-0", title: "Gitì€ ì™œ í•„ìš”í•œê°€",
        mode: "intro",
        intro: {
          before: {
            title: "Gitì´ ì—†ëŠ” ì„¸ìƒ",
            icon: "ğŸ˜±",
            files: [
              "ğŸ“ ê¸°íšì„œ_ìµœì¢….docx",
              "ğŸ“ ê¸°íšì„œ_ìµœì¢…_ìˆ˜ì •.docx",
              "ğŸ“ ê¸°íšì„œ_ì§„ì§œìµœì¢…_v2.docx",
              "ğŸ“ ê¸°íšì„œ_ì§„ì§œìµœì¢…_v2_íŒ€ì¥í™•ì¸.docx",
              "ğŸ“ ê¸°íšì„œ_ì§„ì§œìµœì¢…_v3_ì´ê±¸ë¡œì œì¶œ.docx",
            ],
            problems: [
              "ëˆ„ê°€ ë­˜ ë°”ê¿¨ëŠ”ì§€ ëª¨ë¦„",
              "ë˜ëŒë¦¬ê¸° ë¶ˆê°€ëŠ¥",
              "ë™ì‹œì— ìˆ˜ì •í•˜ë©´ íŒŒì¼ì´ ì—‰í‚´",
              "ì–´ë–¤ ê²Œ ìµœì‹ ì¸ì§€ í˜¼ë€",
            ],
          },
          after: {
            title: "Gitì´ ìˆëŠ” ì„¸ìƒ",
            icon: "âœ¨",
            files: [
              "ğŸ“ ê¸°íšì„œ/  â† Gitì´ ëª¨ë“  ë³€ê²½ì„ ìë™ ê´€ë¦¬",
            ],
            benefits: [
              "ëˆ„ê°€, ì–¸ì œ, ë­˜ ë°”ê¿¨ëŠ”ì§€ ì „ë¶€ ê¸°ë¡",
              "ì–´ë–¤ ì‹œì ìœ¼ë¡œë“  ë˜ëŒë¦¬ê¸° ê°€ëŠ¥",
              "ì—¬ëŸ¬ ëª…ì´ ë™ì‹œì— ì‘ì—… ê°€ëŠ¥",
              "ë³€ê²½ ì´ë ¥ì´ ê¹”ë”í•˜ê²Œ ì •ë¦¬ë¨",
            ],
          },
          summary: "Git = í”„ë¡œì íŠ¸ì˜ íƒ€ì„ë¨¸ì‹  ğŸ• + í˜‘ì—… ë„êµ¬ ğŸ¤",
          howItWorks: {
            title: "Gitì€ ì´ë ‡ê²Œ ì €ì¥í•´ìš”",
            steps: [
              { icon: "ğŸ“", name: "ì‘ì—… ê³µê°„", sub: "Working Directory", desc: "íŒŒì¼ì„ ë§Œë“¤ê³  ìˆ˜ì •í•˜ëŠ” ê³³" },
              { arrow: "git add", desc: "ì €ì¥í•  íŒŒì¼ì„ ê³¨ë¼ì„œ" },
              { icon: "ğŸ“¦", name: "ëŒ€ê¸°ì‹¤", sub: "Staging Area", desc: "ë‹¤ìŒ ì €ì¥ì— í¬í•¨ì‹œí‚¬ íŒŒì¼" },
              { arrow: "git commit", desc: "ì˜êµ¬ ì €ì¥!" },
              { icon: "ğŸ›ï¸", name: "ì €ì¥ì†Œ", sub: "Repository", desc: "ë³€ê²½ ê¸°ë¡ì´ ì˜êµ¬ ë³´ê´€" },
            ],
            analogy: "ì±…ìƒì—ì„œ ì‘ì—… â†’ íƒë°° ë°•ìŠ¤ì— ë‹´ê¸° â†’ íƒë°° ë°œì†¡ ì™„ë£Œ!",
          },
        },
      },
      {
        id: "1-1", title: "ì²« ë²ˆì§¸ ì €ì¥",
        desc: "ì´ì œ ì§ì ‘ í•´ë´…ì‹œë‹¤! Gitì—ì„œ íŒŒì¼ì„ ì €ì¥í•˜ë ¤ë©´ ë‘ ë‹¨ê³„ê°€ í•„ìš”í•´ìš”.\n\nâ‘  git add â€” ìˆ˜ì •í•œ íŒŒì¼ ì¤‘ ì €ì¥í•  ê²ƒì„ ê³¨ë¼ 'ëŒ€ê¸°ì‹¤'ì— ì˜¬ë¦¬ê¸°\nâ‘¡ git commit â€” ëŒ€ê¸°ì‹¤ì— ìˆëŠ” íŒŒì¼ë“¤ì„ 'ì €ì¥ì†Œ'ì— ì˜êµ¬ ê¸°ë¡í•˜ê¸°\n\nì™œ ë‘ ë‹¨ê³„ì¼ê¹Œìš”? 10ê°œ íŒŒì¼ì„ ìˆ˜ì •í–ˆëŠ”ë° 3ê°œë§Œ ë¨¼ì € ì €ì¥í•˜ê³  ì‹¶ì„ ë•Œê°€ ìˆê±°ë“ ìš”!",
        diagram: "flow",
        steps: [
          { instruction: "README.md íŒŒì¼ì„ ëŒ€ê¸°ì‹¤ì— ì˜¬ë¦¬ì„¸ìš”", expected: ["git add"], options: [
            { cmd: "git add README.md", desc: "íŒŒì¼ì„ ëŒ€ê¸°ì‹¤ì— ì˜¬ë¦¬ê¸°", correct: true },
            { cmd: "git commit -m \"init\"", desc: "ì €ì¥ì†Œì— ê¸°ë¡í•˜ê¸°", correct: false, fb: "ì•„ì§ ëŒ€ê¸°ì‹¤ì— ì˜¬ë¦¬ì§€ ì•Šì•˜ì–´ìš”. addë¥¼ ë¨¼ì €!" },
            { cmd: "git push origin main", desc: "ì›ê²©ì— ì˜¬ë¦¬ê¸°", correct: false, fb: "pushëŠ” ì›ê²© ì €ì¥ì†Œì— ì˜¬ë¦¬ëŠ” ê±°ì˜ˆìš”. ë¨¼ì € addë¶€í„°!" },
          ]},
          { instruction: "ì»¤ë°‹ ë©”ì‹œì§€ì™€ í•¨ê»˜ ì €ì¥í•˜ì„¸ìš”", expected: ["git commit"], options: [
            { cmd: "git commit -m \"í”„ë¡œì íŠ¸ ì‹œì‘\"", desc: "ì €ì¥ì†Œì— ê¸°ë¡í•˜ê¸°", correct: true },
            { cmd: "git add .", desc: "íŒŒì¼ì„ ëŒ€ê¸°ì‹¤ì— ì˜¬ë¦¬ê¸°", correct: false, fb: "ì´ë¯¸ add í–ˆì–´ìš”! ì´ì œ commití•  ì°¨ë¡€ì˜ˆìš”." },
            { cmd: "git log", desc: "íˆìŠ¤í† ë¦¬ ë³´ê¸°", correct: false, fb: "logëŠ” ê¸°ë¡ì„ ë³´ëŠ” ê±°ì˜ˆìš”. ì €ì¥í•˜ë ¤ë©´ commit!" },
          ]},
        ],
      },
      {
        id: "1-2", title: "ê¸°ë¡ í™•ì¸í•˜ê¸°",
        desc: "Gitì˜ ê°€ì¥ í° ì¥ì ì€ 'ëˆ„ê°€ ì–¸ì œ ë­˜ ë°”ê¿¨ëŠ”ì§€' ì „ë¶€ ê¸°ë¡ëœë‹¤ëŠ” ê±°ì˜ˆìš”.\n\nâ€¢ git log â€” ì§€ê¸ˆê¹Œì§€ì˜ ì»¤ë°‹ ëª©ë¡ì„ ì‹œê°„ìˆœìœ¼ë¡œ ë³´ì—¬ì¤˜ìš”. í”„ë¡œì íŠ¸ì˜ ì¼ê¸°ì¥ì´ë¼ê³  ìƒê°í•˜ì„¸ìš”!\nâ€¢ git diff â€” ë§ˆì§€ë§‰ ì €ì¥ ì´í›„ ë¬´ì—‡ì´ ë‹¬ë¼ì¡ŒëŠ”ì§€ ì¤„ ë‹¨ìœ„ë¡œ ë¹„êµí•´ì¤˜ìš”.",
        steps: [
          { instruction: "ì»¤ë°‹ íˆìŠ¤í† ë¦¬ë¥¼ í™•ì¸í•˜ì„¸ìš”", expected: ["git log"], options: [
            { cmd: "git log --oneline", desc: "ì»¤ë°‹ ëª©ë¡ ë³´ê¸°", correct: true },
            { cmd: "git status", desc: "í˜„ì¬ ìƒíƒœ í™•ì¸", correct: false, fb: "statusëŠ” ì§€ê¸ˆ ìƒíƒœ. ê³¼ê±° ê¸°ë¡ì€ logë¡œ!" },
            { cmd: "git diff", desc: "ë³€ê²½ì‚¬í•­ ë¹„êµ", correct: false, fb: "diffëŠ” ë³€ê²½ ë‚´ìš©. ê¸°ë¡ ëª©ë¡ì€ log!" },
          ]},
        ],
      },
      {
        id: "1-3", title: "ì‹¤ìˆ˜ ë˜ëŒë¦¬ê¸°",
        desc: "ì‹¤ìˆ˜ëŠ” ëˆ„êµ¬ë‚˜ í•´ìš”! Gitì€ ë˜ëŒë¦¬ê¸°ë¥¼ ìœ„í•œ ì•ˆì „ì¥ì¹˜ê°€ ìˆì–´ìš”.\n\nâ€¢ ì•„ì§ ì»¤ë°‹ ì „ì´ë¼ë©´ â†’ git restoreë¡œ íŒŒì¼ì„ ë§ˆì§€ë§‰ ì €ì¥ ìƒíƒœë¡œ ë³µì›\nâ€¢ ì´ë¯¸ ì»¤ë°‹í–ˆë‹¤ë©´ â†’ git revertë¡œ 'ë˜ëŒë¦¬ëŠ” ìƒˆ ì»¤ë°‹'ì„ ë§Œë“¤ì–´ì„œ ì•ˆì „í•˜ê²Œ ì·¨ì†Œ\n\nâš ï¸ git reset --hardëŠ” ê¸°ë¡ì„ ì•„ì˜ˆ ì§€ì›Œë²„ë ¤ì„œ ìœ„í—˜í•´ìš”. ìš°ë¦¬ íŒ€ì—ì„  ì“°ì§€ ì•Šì•„ìš”!",
        steps: [
          { instruction: "ì»¤ë°‹ ì „ ìˆ˜ì •ì‚¬í•­ì„ ë˜ëŒë¦¬ì„¸ìš”", expected: ["git restore"], options: [
            { cmd: "git restore README.md", desc: "ë§ˆì§€ë§‰ ì»¤ë°‹ ìƒíƒœë¡œ ë³µì›", correct: true },
            { cmd: "git revert HEAD", desc: "ì»¤ë°‹ì„ ë˜ëŒë¦¬ëŠ” ìƒˆ ì»¤ë°‹ ìƒì„±", correct: false, fb: "revertëŠ” ì´ë¯¸ ì»¤ë°‹í•œ ê²ƒì„ ë˜ëŒë¦´ ë•Œ. ì»¤ë°‹ ì „ì´ë©´ restore!" },
            { cmd: "git reset --hard", desc: "ê°•ì œ ë¦¬ì…‹", correct: false, fb: "reset --hardëŠ” ìœ„í—˜í•´ìš”! ì»¤ë°‹ ì „ ë³µì›ì€ restoreê°€ ì•ˆì „." },
          ]},
        ],
      },
    ],
  },
  {
    id: 2, title: "ì›ê²© ì €ì¥ì†Œ", icon: "â˜ï¸", color: "#10b981",
    stages: [
      {
        id: "2-1", title: "í”„ë¡œì íŠ¸ ê°€ì ¸ì˜¤ê¸°",
        desc: "ì§€ê¸ˆê¹Œì§€ëŠ” ë‚´ ì»´í“¨í„°ì—ì„œë§Œ ì‘ì—…í–ˆì–´ìš”. ì‹¤ì œ íŒ€ í”„ë¡œì íŠ¸ëŠ” GitHub ê°™ì€ 'ì›ê²© ì €ì¥ì†Œ'ì— ìˆì–´ìš”.\n\ngit cloneì€ ì›ê²© ì €ì¥ì†Œì˜ í”„ë¡œì íŠ¸ ì „ì²´(íŒŒì¼ + ëª¨ë“  ë³€ê²½ ê¸°ë¡)ë¥¼ ë‚´ ì»´í“¨í„°ì— ë³µì‚¬í•˜ëŠ” ëª…ë ¹ì–´ì˜ˆìš”. íŒ€ì— í•©ë¥˜í•  ë•Œ ê°€ì¥ ë¨¼ì € í•˜ëŠ” ì¼ì´ì—ìš”!",
        steps: [
          { instruction: "ì›ê²© ì €ì¥ì†Œë¥¼ ë‚´ ì»´í“¨í„°ë¡œ ë³µì œí•˜ì„¸ìš”", expected: ["git clone"], options: [
            { cmd: "git clone https://github.com/team/project.git", desc: "ì›ê²© ì €ì¥ì†Œ ë³µì œ", correct: true },
            { cmd: "git pull origin main", desc: "ìµœì‹  ë³€ê²½ì‚¬í•­ ê°€ì ¸ì˜¤ê¸°", correct: false, fb: "pullì€ ì´ë¯¸ cloneëœ í”„ë¡œì íŠ¸ì—ì„œ ì—…ë°ì´íŠ¸ ë°›ì„ ë•Œ!" },
            { cmd: "git init", desc: "ìƒˆ ì €ì¥ì†Œ ìƒì„±", correct: false, fb: "initì€ ë¹ˆ ì €ì¥ì†Œë¥¼ ìƒˆë¡œ ë§Œë“œëŠ” ê±°ì˜ˆìš”." },
          ]},
        ],
      },
      {
        id: "2-2", title: "Push & Pull",
        desc: "ì›ê²© ì €ì¥ì†Œì™€ ë‚´ ì»´í“¨í„°ëŠ” ìë™ìœ¼ë¡œ ë™ê¸°í™”ë˜ì§€ ì•Šì•„ìš”. ì§ì ‘ ì£¼ê³ ë°›ì•„ì•¼ í•´ìš”!\n\nâ€¢ git push â€” ë‚´ê°€ ë§Œë“  ì»¤ë°‹ì„ ì›ê²© ì €ì¥ì†Œì— 'ì˜¬ë¦¬ê¸°'. íŒ€ì›ë“¤ì´ ë‚´ ì‘ì—…ì„ ë³¼ ìˆ˜ ìˆê²Œ ë¼ìš”.\nâ€¢ git pull â€” ì›ê²© ì €ì¥ì†Œì˜ ìƒˆë¡œìš´ ë³€ê²½ì‚¬í•­ì„ 'ê°€ì ¸ì˜¤ê¸°'. íŒ€ì›ì´ ì˜¬ë¦° ì‘ì—…ì„ ë‚´ ì»´í“¨í„°ì— ë°˜ì˜í•´ìš”.\n\nìˆœì„œê°€ ì¤‘ìš”í•´ìš”: add â†’ commit â†’ push. ì„¸ ë‹¨ê³„ë¥¼ ê¼­ ê¸°ì–µí•˜ì„¸ìš”!",
        steps: [
          { instruction: "ìˆ˜ì •í•œ íŒŒì¼ì„ addí•˜ì„¸ìš”", expected: ["git add"], options: [
            { cmd: "git add .", correct: true },
            { cmd: "git push origin main", correct: false, fb: "push ì „ì— addì™€ commitì´ ë¨¼ì €!" },
            { cmd: "git pull origin main", correct: false, fb: "pullì€ ê°€ì ¸ì˜¤ê¸°. ì˜¬ë¦¬ë ¤ë©´ ë¨¼ì € add!" },
          ]},
          { instruction: "ì»¤ë°‹í•˜ì„¸ìš”", expected: ["git commit"], options: [
            { cmd: "git commit -m \"ë¬¸ì„œ ì—…ë°ì´íŠ¸\"", correct: true },
            { cmd: "git push origin main", correct: false, fb: "ì•„ì§ commit ì•ˆ í–ˆì–´ìš”!" },
            { cmd: "git add .", correct: false, fb: "ì´ë¯¸ add í–ˆì–´ìš”!" },
          ]},
          { instruction: "ì›ê²© ì €ì¥ì†Œì— ì˜¬ë¦¬ì„¸ìš”", expected: ["git push"], options: [
            { cmd: "git push origin main", desc: "ì›ê²©ì— ì˜¬ë¦¬ê¸°", correct: true },
            { cmd: "git pull origin main", desc: "ê°€ì ¸ì˜¤ê¸°", correct: false, fb: "pullì€ ê°€ì ¸ì˜¤ê¸°! ì˜¬ë¦¬ë ¤ë©´ push." },
            { cmd: "git commit -m \"push\"", correct: false, fb: "ì´ë¯¸ commit í–ˆì–´ìš”. pushí•  ì°¨ë¡€!" },
          ]},
        ],
      },
      {
        id: "2-3", title: "ìµœì‹  ë™ê¸°í™”",
        desc: "íŒ€ì›ì´ ìƒˆë¡œìš´ ì‘ì—…ì„ pushí–ˆì–´ìš”. ë‚´ ì»´í“¨í„°ì—ëŠ” ì•„ì§ ë°˜ì˜ë˜ì§€ ì•Šì•˜ì–´ìš”.\n\nì‘ì—…ì„ ì‹œì‘í•˜ê¸° ì „ì— í•­ìƒ git pullë¡œ ìµœì‹  ìƒíƒœë¥¼ ê°€ì ¸ì˜¤ëŠ” ìŠµê´€ì„ ë“¤ì´ì„¸ìš”! ì•ˆ ê·¸ëŸ¬ë©´ ë‚˜ì¤‘ì— íŒ€ì›ì˜ ì‘ì—…ê³¼ ë‚´ ì‘ì—…ì´ ì¶©ëŒí•  ìˆ˜ ìˆì–´ìš”.",
        steps: [
          { instruction: "ì›ê²©ì˜ ìµœì‹  ë³€ê²½ì‚¬í•­ì„ ê°€ì ¸ì˜¤ì„¸ìš”", expected: ["git pull"], options: [
            { cmd: "git pull origin main", correct: true },
            { cmd: "git push origin main", correct: false, fb: "pushëŠ” ì˜¬ë¦¬ê¸°! ê°€ì ¸ì˜¤ë ¤ë©´ pull." },
            { cmd: "git fetch origin", correct: false, fb: "fetchëŠ” ê°€ì ¸ì˜¤ê¸°ë§Œ, í•©ì¹˜ì§„ ì•Šì•„ìš”. pull = fetch + merge." },
          ]},
        ],
      },
    ],
  },
  {
    id: 3, title: "ë¸Œëœì¹˜", icon: "ğŸŒ¿", color: "#f59e0b",
    stages: [
      {
        id: "3-1", title: "ë¸Œëœì¹˜ ë§Œë“¤ê³  ì´ë™",
        desc: "ğŸš¨ main ë¸Œëœì¹˜ì—ì„œ ì§ì ‘ ì‘ì—…í•˜ë©´ ì™œ ìœ„í—˜í• ê¹Œìš”?\n\nmainì€ íŒ€ ì „ì²´ê°€ ê³µìœ í•˜ëŠ” 'ì™„ì„±ë³¸'ì´ì—ìš”. ì—¬ê¸°ì„œ ì§ì ‘ ìˆ˜ì •í•˜ë‹¤ê°€ ì‹¤ìˆ˜í•˜ë©´ íŒ€ì› ì „ì²´ì—ê²Œ ì˜í–¥ì„ ì¤˜ìš”. ë§ˆì¹˜ ê³µìœ  ë¬¸ì„œì˜ ì›ë³¸ì„ ì§ì ‘ ìˆ˜ì •í•˜ëŠ” ê²ƒê³¼ ê°™ì•„ìš”!\n\nê·¸ë˜ì„œ 'ë¸Œëœì¹˜(branch)'ë¥¼ ë§Œë“¤ì–´ìš”. ë¸Œëœì¹˜ëŠ” mainì˜ ë³µì‚¬ë³¸ ê°™ì€ ê±°ì˜ˆìš”. ì—¬ê¸°ì„œ ë§ˆìŒê» ì‘ì—…í•˜ê³ , ë‹¤ ëë‚˜ë©´ mainì— í•©ì¹˜ëŠ” ê±°ì£ . ì‹¤ìˆ˜í•´ë„ mainì€ ì•ˆì „í•´ìš”!\n\nâ€¢ git checkout -b ë¸Œëœì¹˜ì´ë¦„ â€” ìƒˆ ë¸Œëœì¹˜ë¥¼ ë§Œë“¤ë©´ì„œ ë™ì‹œì— ì´ë™ (ê°€ì¥ ìì£¼ ì“°ëŠ” ëª…ë ¹ì–´!)\nâ€¢ ë¸Œëœì¹˜ ì´ë¦„ì€ feature/ì‘ì—…ë‚´ìš© í˜•ì‹ìœ¼ë¡œ ì§€ì–´ìš” (ì˜ˆ: feature/update-docs)",
        diagram: "branch",
        steps: [
          { instruction: "feature/update-docs ë¸Œëœì¹˜ë¥¼ ë§Œë“¤ë©´ì„œ ì´ë™í•˜ì„¸ìš”", expected: ["git checkout -b"], options: [
            { cmd: "git checkout -b feature/update-docs", desc: "ë¸Œëœì¹˜ ìƒì„± + ì´ë™", correct: true },
            { cmd: "git branch feature/update-docs", desc: "ìƒì„±ë§Œ (ì´ë™ ì•ˆ í•¨)", correct: false, fb: "branchë§Œ ì“°ë©´ ë§Œë“¤ê¸°ë§Œ í•´ìš”. checkout -bë¡œ ë§Œë“¤ê¸°+ì´ë™!" },
            { cmd: "git checkout feature/update-docs", desc: "ì´ë™ë§Œ (ì´ë¯¸ ìˆì„ ë•Œ)", correct: false, fb: "ì´ ë¸Œëœì¹˜ëŠ” ì•„ì§ ì—†ì–´ìš”. -b ì˜µì…˜ìœ¼ë¡œ ë§Œë“¤ë©´ì„œ ì´ë™!" },
          ]},
        ],
      },
      {
        id: "3-2", title: "ë¸Œëœì¹˜ì—ì„œ ì‘ì—… í›„ Push",
        desc: "feature ë¸Œëœì¹˜ì—ì„œ ì‘ì—…ì„ ë§ˆì³¤ìœ¼ë©´, ì›ê²© ì €ì¥ì†Œì— ì˜¬ë ¤ì„œ íŒ€ì›ë“¤ì´ ë³¼ ìˆ˜ ìˆê²Œ í•´ì•¼ í•´ìš”.\n\npushí•  ë•Œ ì¤‘ìš”í•œ ì : ë¸Œëœì¹˜ ì´ë¦„ì„ ì •í™•íˆ ì¨ì•¼ í•´ìš”! ì§€ê¸ˆ mainì´ ì•„ë‹ˆë¼ feature ë¸Œëœì¹˜ì— ìˆìœ¼ë‹ˆ, push ëŒ€ìƒë„ feature ë¸Œëœì¹˜ì—¬ì•¼ í•©ë‹ˆë‹¤.",
        steps: [
          { instruction: "íŒŒì¼ì„ addí•˜ì„¸ìš”", expected: ["git add"], options: [
            { cmd: "git add .", correct: true },
            { cmd: "git push origin feature/update-docs", correct: false, fb: "push ì „ì— addì™€ commitì´ ë¨¼ì €!" },
            { cmd: "git checkout main", correct: false, fb: "ì•„ì§ ì‘ì—…ì„ ì•ˆ ì˜¬ë ¸ì–´ìš”!" },
          ]},
          { instruction: "ì»¤ë°‹í•˜ì„¸ìš”", expected: ["git commit"], options: [
            { cmd: "git commit -m \"ë¬¸ì„œ êµ¬ì¡° ê°œì„ \"", correct: true },
            { cmd: "git push origin feature/update-docs", correct: false, fb: "commitì„ ë¨¼ì €!" },
            { cmd: "git add .", correct: false, fb: "ì´ë¯¸ add í–ˆì–´ìš”!" },
          ]},
          { instruction: "feature ë¸Œëœì¹˜ë¥¼ ì›ê²©ì— ì˜¬ë¦¬ì„¸ìš”", expected: ["git push origin feature"], options: [
            { cmd: "git push origin feature/update-docs", correct: true },
            { cmd: "git push origin main", correct: false, fb: "ì§€ê¸ˆ feature ë¸Œëœì¹˜ì— ìˆì–´ìš”! ë¸Œëœì¹˜ ì´ë¦„ì„ ì •í™•íˆ!" },
            { cmd: "git merge feature/update-docs", correct: false, fb: "mergeëŠ” í•©ì¹˜ê¸°. ë¨¼ì € push!" },
          ]},
        ],
      },
    ],
  },
  {
    id: 4, title: "Trunk-Based ì›Œí¬í”Œë¡œìš°", icon: "ğŸ”€", color: "#ec4899",
    stages: [
      {
        id: "4-1", title: "ì „ì²´ ì›Œí¬í”Œë¡œìš°",
        desc: "ì´ê²ƒì´ ìš°ë¦¬ íŒ€ì˜ Git ì›Œí¬í”Œë¡œìš° ì „ì²´ íë¦„ì´ì—ìš”! ë§¤ì¼ ì´ ìˆœì„œëŒ€ë¡œ ì‘ì—…í•©ë‹ˆë‹¤.\n\nâ‘  mainì—ì„œ ìµœì‹  ì½”ë“œ ê°€ì ¸ì˜¤ê¸° â†’ â‘¡ ì‘ì—…ìš© ë¸Œëœì¹˜ ë§Œë“¤ê¸° â†’ â‘¢ ì‘ì—…í•˜ê³  ì»¤ë°‹ â†’ â‘£ ì›ê²©ì— Push â†’ â‘¤ PR(Pull Request)ë¡œ íŒ€ì› ë¦¬ë·° â†’ â‘¥ Squash Mergeë¡œ mainì— í•©ì¹˜ê¸° â†’ â‘¦ ë¸Œëœì¹˜ ì‚­ì œ\n\nì•„ë˜ì—ì„œ ì˜¬ë°”ë¥¸ ìˆœì„œë¡œ ëª…ë ¹ì–´ë¥¼ ë°°ì¹˜í•´ë³´ì„¸ìš”!",
        mode: "order",
        diagram: "pipeline",
        orderSteps: [
          { cmd: "git checkout main", hint: "â‘  mainìœ¼ë¡œ ì´ë™" },
          { cmd: "git pull origin main", hint: "â‘¡ ìµœì‹  ë™ê¸°í™”" },
          { cmd: "git checkout -b feature/team-intro", hint: "â‘¢ ë¸Œëœì¹˜ ìƒì„±" },
          { cmd: "git add .", hint: "â‘£ íŒŒì¼ ì¶”ê°€" },
          { cmd: "git commit -m \"feat: íŒ€ ì†Œê°œ ì‘ì„±\"", hint: "â‘¤ ì»¤ë°‹" },
          { cmd: "git push origin feature/team-intro", hint: "â‘¥ Push" },
          { cmd: "git checkout main", hint: "â‘¦ mainìœ¼ë¡œ ë³µê·€" },
          { cmd: "git merge --squash feature/team-intro", hint: "â‘§ Squash Merge" },
          { cmd: "git commit -m \"feat: íŒ€ ì†Œê°œ í˜ì´ì§€ ì¶”ê°€\"", hint: "â‘¨ ìŠ¤ì¿¼ì‹œ ì»¤ë°‹" },
          { cmd: "git branch -d feature/team-intro", hint: "â‘© ë¸Œëœì¹˜ ì‚­ì œ" },
        ],
      },
      {
        id: "4-2", title: "Squash Merge",
        desc: "ë¸Œëœì¹˜ì—ì„œ ì‘ì—…í•˜ë‹¤ ë³´ë©´ ì»¤ë°‹ì´ ì—¬ëŸ¬ ê°œ ìŒ“ì—¬ìš”. \"ì´ˆì•ˆ ì‘ì„±\", \"ì˜¤íƒ€ ìˆ˜ì •\", \"ë‚´ìš© ì¶”ê°€\" ê°™ì€ ìì˜í•œ ì»¤ë°‹ë“¤ì´ìš”.\n\nSquash MergeëŠ” ì´ ì—¬ëŸ¬ ì»¤ë°‹ì„ í•˜ë‚˜ì˜ ê¹”ë”í•œ ì»¤ë°‹ìœ¼ë¡œ í•©ì³ì„œ mainì— ë„£ì–´ìš”.\n\nì¼ë°˜ Merge: ì»¤ë°‹ 3ê°œ â†’ mainì— ì»¤ë°‹ 3ê°œê°€ ê·¸ëŒ€ë¡œ ë“¤ì–´ì˜´ (ì§€ì €ë¶„)\nSquash Merge: ì»¤ë°‹ 3ê°œ â†’ mainì— ì»¤ë°‹ 1ê°œë§Œ ë“¤ì–´ì˜´ (ê¹”ë”!)\n\nì´ë ‡ê²Œ í•˜ë©´ mainì˜ íˆìŠ¤í† ë¦¬ê°€ 'ê¸°ëŠ¥ ë‹¨ìœ„'ë¡œ ê¹”ë”í•˜ê²Œ ì •ë¦¬ë¼ìš”!",
        diagram: "squash",
        steps: [
          { instruction: "mainìœ¼ë¡œ ì´ë™í•˜ì„¸ìš”", expected: ["git checkout main"], options: [
            { cmd: "git checkout main", correct: true },
            { cmd: "git merge --squash feature/work", correct: false, fb: "merge ì „ì— mainìœ¼ë¡œ ë¨¼ì € ì´ë™!" },
            { cmd: "git branch -d feature/work", correct: false, fb: "ì‚­ì œëŠ” merge í›„ì—!" },
          ]},
          { instruction: "feature/work ë¸Œëœì¹˜ë¥¼ Squash Mergeí•˜ì„¸ìš”", expected: ["git merge --squash"], options: [
            { cmd: "git merge --squash feature/work", desc: "ì—¬ëŸ¬ ì»¤ë°‹ì„ í•˜ë‚˜ë¡œ í•©ì¹˜ê¸°", correct: true },
            { cmd: "git merge feature/work", desc: "ì¼ë°˜ ë¨¸ì§€ (ì»¤ë°‹ ê·¸ëŒ€ë¡œ)", correct: false, fb: "ì¼ë°˜ mergeëŠ” ëª¨ë“  ì»¤ë°‹ì´ ê·¸ëŒ€ë¡œ ë“¤ì–´ì™€ìš”. --squashë¥¼ ì¨ì•¼ ê¹”ë”!" },
            { cmd: "git rebase feature/work", correct: false, fb: "rebaseëŠ” ë‹¤ë¥¸ ìš©ë„ì˜ˆìš”. squash mergeëŠ” merge --squash!" },
          ]},
          { instruction: "ìŠ¤ì¿¼ì‹œëœ ë‚´ìš©ì„ ì»¤ë°‹í•˜ì„¸ìš”", expected: ["git commit"], options: [
            { cmd: "git commit -m \"feat: ê¸°ëŠ¥ ì¶”ê°€\"", correct: true },
            { cmd: "git push origin main", correct: false, fb: "squash í›„ commitì„ ë¨¼ì €!" },
            { cmd: "git add .", correct: false, fb: "squash mergeëŠ” ìë™ìœ¼ë¡œ stagingë¼ìš”. commitë§Œ í•˜ë©´ ë¼ìš”." },
          ]},
          { instruction: "ì‚¬ìš©í•œ ë¸Œëœì¹˜ë¥¼ ì‚­ì œí•˜ì„¸ìš”", expected: ["git branch -d"], options: [
            { cmd: "git branch -d feature/work", desc: "ë¸Œëœì¹˜ ì‚­ì œ", correct: true },
            { cmd: "git branch feature/work", correct: false, fb: "ì‚­ì œí•˜ë ¤ë©´ -d ì˜µì…˜ì´ í•„ìš”í•´ìš”!" },
            { cmd: "git checkout feature/work", correct: false, fb: "ì´ë¯¸ mainì— mergeí–ˆì–´ìš”. ì‚­ì œí•  ì°¨ë¡€!" },
          ]},
        ],
      },
      {
        id: "4-3", title: "Rebaseë¡œ ìµœì‹ í™”",
        desc: "ë‚´ê°€ feature ë¸Œëœì¹˜ì—ì„œ ì‘ì—…í•˜ëŠ” ë™ì•ˆ, ë‹¤ë¥¸ íŒ€ì›ì´ mainì— ìƒˆë¡œìš´ ë³€ê²½ì„ ì¶”ê°€í•  ìˆ˜ ìˆì–´ìš”.\n\nì´ë•Œ ë‚´ ë¸Œëœì¹˜ê°€ 'ì˜›ë‚  main' ê¸°ì¤€ì´ë¼ ë¬¸ì œê°€ ìƒê¸¸ ìˆ˜ ìˆì–´ìš”. rebaseëŠ” ë‚´ ì‘ì—…ì„ 'ìµœì‹  main ìœ„'ë¡œ ì˜®ê²¨ì£¼ëŠ” ëª…ë ¹ì–´ì˜ˆìš”.\n\në¹„ìœ í•˜ë©´: ì–´ì œ ì°ì€ ì‚¬ì§„ì— ì˜¤ëŠ˜ ì‚° ëª¨ìë¥¼ í•©ì„±í•˜ëŠ” ê²ƒì²˜ëŸ¼, ìµœì‹  ìƒíƒœ ìœ„ì— ë‚´ ì‘ì—…ì„ ì–¹ëŠ” ê±°ì˜ˆìš”!",
        steps: [
          { instruction: "mainìœ¼ë¡œ ì´ë™í•˜ì„¸ìš”", expected: ["git checkout main"], options: [
            { cmd: "git checkout main", correct: true },
            { cmd: "git rebase main", correct: false, fb: "rebase ì „ì— mainì˜ ìµœì‹ ì„ ë¨¼ì € ê°€ì ¸ì™€ì•¼ í•´ìš”!" },
            { cmd: "git pull origin feature/my-work", correct: false, fb: "featureê°€ ì•„ë‹ˆë¼ mainì„ ë¨¼ì € ì—…ë°ì´íŠ¸!" },
          ]},
          { instruction: "ìµœì‹  mainì„ ê°€ì ¸ì˜¤ì„¸ìš”", expected: ["git pull"], options: [
            { cmd: "git pull origin main", correct: true },
            { cmd: "git fetch origin", correct: false, fb: "fetchë„ ë˜ì§€ë§Œ pullì´ fetch+mergeë¥¼ í•œë²ˆì—!" },
            { cmd: "git rebase main", correct: false, fb: "ì•„ì§ mainì´ ìµœì‹ ì´ ì•„ë‹ˆì—ìš”. pull ë¨¼ì €!" },
          ]},
          { instruction: "ë‹¤ì‹œ feature ë¸Œëœì¹˜ë¡œ ì´ë™í•˜ì„¸ìš”", expected: ["git checkout feature"], options: [
            { cmd: "git checkout feature/my-work", correct: true },
            { cmd: "git checkout -b feature/my-work", correct: false, fb: "ì´ë¯¸ ìˆëŠ” ë¸Œëœì¹˜ì˜ˆìš”. -b ì—†ì´ ì´ë™!" },
            { cmd: "git rebase main", correct: false, fb: "ë¨¼ì € feature ë¸Œëœì¹˜ë¡œ ì´ë™í•´ì•¼ í•´ìš”!" },
          ]},
          { instruction: "ìµœì‹  main ìœ„ì— ë‚´ ì‘ì—…ì„ ì˜¬ë¦¬ì„¸ìš”", expected: ["git rebase"], options: [
            { cmd: "git rebase main", desc: "ìµœì‹  main ìœ„ì— ì¬ë°°ì¹˜", correct: true },
            { cmd: "git merge main", desc: "mainì„ í•©ì¹˜ê¸°", correct: false, fb: "mergeë„ ë˜ì§€ë§Œ, ìš°ë¦¬ íŒ€ì€ rebaseë¡œ ê¹”ë”í•˜ê²Œ!" },
            { cmd: "git pull origin main", correct: false, fb: "ì´ë¯¸ mainì€ ìµœì‹ . ì´ì œ rebase!" },
          ]},
        ],
      },
    ],
  },
  {
    id: 5, title: "íŠ¸ëŸ¬ë¸”ìŠˆíŒ…", icon: "ğŸš¨", color: "#ef4444",
    stages: [
      {
        id: "5-1", title: "ì¶©ëŒ í•´ê²°",
        desc: "ì¶©ëŒ(Conflict)ì€ ë‘ ì‚¬ëŒì´ ê°™ì€ íŒŒì¼ì˜ ê°™ì€ ë¶€ë¶„ì„ ë‹¤ë¥´ê²Œ ìˆ˜ì •í–ˆì„ ë•Œ ë°œìƒí•´ìš”. Gitì´ ì–´ë–¤ ê±¸ ì„ íƒí•´ì•¼ í• ì§€ ëª¨ë¥´ëŠ” ê±°ì˜ˆìš”.\n\níŒŒì¼ì„ ì—´ë©´ ì´ëŸ° í‘œì‹œê°€ ë³´ì—¬ìš”:\n<<<<<<< (ë‚´ ë³€ê²½)\n=======\n>>>>>>> (íŒ€ì› ë³€ê²½)\n\nì´ í‘œì‹œë“¤ì„ ì§€ìš°ê³  ì›í•˜ëŠ” ë‚´ìš©ìœ¼ë¡œ ì •ë¦¬í•œ ë’¤, add â†’ commití•˜ë©´ í•´ê²° ì™„ë£Œ!",
        mode: "free",
        freeSteps: [
          { expected: ["git add"], hint: "ì¶©ëŒì„ í•´ê²°í•œ íŒŒì¼ì„ addí•˜ì„¸ìš”", ok: "íŒŒì¼ì„ stagingì— ì˜¬ë ¸ì–´ìš”!" },
          { expected: ["git commit"], hint: "ì¶©ëŒ í•´ê²°ì„ ì»¤ë°‹í•˜ì„¸ìš”", ok: "ì¶©ëŒ í•´ê²° ì™„ë£Œ!" },
        ],
      },
      {
        id: "5-2", title: "ì»¤ë°‹ ë˜ëŒë¦¬ê¸°",
        desc: "ì´ë¯¸ pushí•œ ì»¤ë°‹ì— ì‹¤ìˆ˜ê°€ ìˆì—ˆì–´ìš”! ì´ë•Œ ë‘ ê°€ì§€ ë°©ë²•ì´ ìˆëŠ”ë°:\n\nâ€¢ git revert âœ… â€” ì‹¤ìˆ˜ë¥¼ ë˜ëŒë¦¬ëŠ” 'ìƒˆë¡œìš´ ì»¤ë°‹'ì„ ë§Œë“¤ì–´ìš”. ê¸°ë¡ì´ ë‚¨ì•„ì„œ ì•ˆì „í•´ìš”.\nâ€¢ git reset âŒ â€” ì»¤ë°‹ ìì²´ë¥¼ ì§€ì›Œë²„ë ¤ìš”. ì´ë¯¸ pushí•œ ê±¸ resetí•˜ë©´ íŒ€ì›ë“¤ì—ê²Œ ë¬¸ì œê°€ ìƒê²¨ìš”!\n\nìš°ë¦¬ íŒ€ ê·œì¹™: pushí•œ ì»¤ë°‹ì€ ë°˜ë“œì‹œ revertë¡œ ë˜ëŒë¦°ë‹¤!",
        mode: "free",
        freeSteps: [
          { expected: ["git revert"], hint: "pushí•œ ì»¤ë°‹ì€ revertë¡œ! (resetì€ ìœ„í—˜)", ok: "ì•ˆì „í•˜ê²Œ ë˜ëŒë ¸ì–´ìš”!" },
        ],
      },
      {
        id: "5-3", title: "Stash: ì„ì‹œ ë³´ê´€",
        desc: "ë¬¸ì„œ ì‘ì—… ì¤‘ì¸ë°, íŒ€ì¥ë‹˜ì´ 'ê¸‰í•˜ê²Œ mainì—ì„œ ë­ ì¢€ í™•ì¸í•´ì¤˜!'ë¼ê³  í•´ìš”.\n\nê·¸ëŸ°ë° ì§€ê¸ˆ ì‘ì—… ì¤‘ì¸ íŒŒì¼ì´ ìˆì–´ì„œ ë¸Œëœì¹˜ë¥¼ ëª» ë°”ê¿”ìš”. ì´ë•Œ git stashë¥¼ ì“°ë©´ í˜„ì¬ ì‘ì—…ì„ 'ì„œë'ì— ì ì‹œ ë„£ì–´ë‘ê³ , ë‹¤ë¥¸ ì¼ì„ ì²˜ë¦¬í•œ ë’¤ ëŒì•„ì™€ì„œ git stash popìœ¼ë¡œ êº¼ë‚¼ ìˆ˜ ìˆì–´ìš”.\n\nì„œëì— ë„£ê¸°(stash) â†’ ë‹¤ë¥¸ ì¼ ì²˜ë¦¬ â†’ ëŒì•„ì™€ì„œ êº¼ë‚´ê¸°(stash pop)!",
        mode: "free",
        freeSteps: [
          { expected: ["git stash"], hint: "í˜„ì¬ ì‘ì—…ì„ ì„ì‹œ ë³´ê´€", ok: "ì‘ì—…ì„ ë³´ê´€í–ˆì–´ìš”!" },
          { expected: ["git checkout main"], hint: "mainìœ¼ë¡œ ì´ë™í•˜ì„¸ìš”", ok: "mainìœ¼ë¡œ ì´ë™!" },
          { expected: ["git checkout feature"], hint: "ë‹¤ì‹œ feature ë¸Œëœì¹˜ë¡œ ëŒì•„ê°€ì„¸ìš”", ok: "ëŒì•„ì™”ì–´ìš”!" },
          { expected: ["git stash pop"], hint: "ë³´ê´€í•œ ì‘ì—…ì„ ë‹¤ì‹œ êº¼ë‚´ì„¸ìš”", ok: "ì‘ì—… ë³µì› ì™„ë£Œ!" },
        ],
      },
    ],
  },
];

const FINAL_MISSION = {
  title: "ğŸ† ìµœì¢… ë¯¸ì…˜",
  desc: "ê°€ì´ë“œ ì—†ì´ FAQ í˜ì´ì§€ë¥¼ Trunk-Based ë°©ì‹ìœ¼ë¡œ ì™„ì„±í•˜ì„¸ìš”!",
  freeSteps: [
    { expected: ["git checkout main"], hint: "mainìœ¼ë¡œ ì´ë™", ok: "âœ“" },
    { expected: ["git pull"], hint: "ìµœì‹  ë™ê¸°í™”", ok: "âœ“" },
    { expected: ["git checkout -b feature"], hint: "feature ë¸Œëœì¹˜ ìƒì„± (feature/ ì ‘ë‘ì‚¬)", ok: "âœ“" },
    { expected: ["git add"], hint: "íŒŒì¼ ì¶”ê°€", ok: "âœ“" },
    { expected: ["git commit"], hint: "ì»¤ë°‹ (feat: íƒ€ì… ì¶”ì²œ)", ok: "âœ“" },
    { expected: ["git push origin feature"], hint: "ì›ê²©ì— Push", ok: "âœ“" },
    { expected: ["git checkout main"], hint: "mainìœ¼ë¡œ ë³µê·€", ok: "âœ“" },
    { expected: ["git merge --squash"], hint: "Squash Merge", ok: "âœ“" },
    { expected: ["git commit"], hint: "ìŠ¤ì¿¼ì‹œ ì»¤ë°‹", ok: "âœ“" },
    { expected: ["git branch -d"], hint: "ë¸Œëœì¹˜ ì •ë¦¬", ok: "ğŸ‰ ì™„ë£Œ!" },
  ],
};

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// COMPONENTS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

function GitFlowDiagram() {
  const items = [
    { name: "ì‘ì—… ê³µê°„", sub: "Working Dir", icon: "ğŸ“", color: "#f59e0b" },
    { name: "ëŒ€ê¸°ì‹¤", sub: "Staging", icon: "ğŸ“¦", color: "#10b981" },
    { name: "ì €ì¥ì†Œ", sub: "Repository", icon: "ğŸ›ï¸", color: "#6366f1" },
  ];
  const arrows = ["git add", "git commit"];
  return (
    <div className="diagram flow-diagram">
      {items.map((s, i) => (
        <div key={i} className="flow-group">
          {i > 0 && <div className="flow-arrow"><span className="arrow-cmd">{arrows[i - 1]}</span><span className="arrow-icon">â†’</span></div>}
          <div className="flow-box" style={{ borderColor: s.color }}>
            <span className="flow-emoji">{s.icon}</span>
            <span className="flow-name">{s.name}</span>
            <span className="flow-sub">{s.sub}</span>
          </div>
        </div>
      ))}
    </div>
  );
}

function BranchDiagram() {
  return (
    <div className="diagram branch-diagram">
      <div className="bd-label">ë¸Œëœì¹˜ = mainì˜ ì•ˆì „í•œ ë³µì‚¬ë³¸ì—ì„œ ì‘ì—…í•˜ëŠ” ê²ƒ</div>
      <div className="bd-visual">
        <div className="bd-track">
          <div className="bd-track-label">
            <span className="bd-tag main-tag">main</span>
            <span className="bd-track-desc">íŒ€ ì „ì²´ì˜ ì™„ì„±ë³¸ (ê±´ë“œë¦¬ë©´ ì•ˆ ë¨!)</span>
          </div>
          <div className="bd-line main-line">
            <span className="bd-node" /><span className="bd-node" /><span className="bd-node" />
            <span className="bd-connector" />
          </div>
        </div>
        <div className="bd-fork-area">
          <div className="bd-fork-line" />
          <span className="bd-fork-label">git checkout -b</span>
        </div>
        <div className="bd-track">
          <div className="bd-track-label">
            <span className="bd-tag feat-tag">feature/update-docs</span>
            <span className="bd-track-desc">ë‚´ ì‘ì—… ê³µê°„ (ë§ˆìŒê» ìˆ˜ì • ê°€ëŠ¥!)</span>
          </div>
          <div className="bd-line feat-line">
            <span className="bd-node feat" /><span className="bd-node feat" />
            <span className="bd-node-add">+ ì»¤ë°‹ ì¶”ê°€ì¤‘...</span>
          </div>
        </div>
      </div>
      <div className="bd-bottom">âœ… featureì—ì„œ ì‹¤ìˆ˜í•´ë„ mainì€ ì•ˆì „í•´ìš”!</div>
    </div>
  );
}

function PipelineDiagram() {
  return (
    <div className="diagram pipeline-diagram">
      {["main pull", "branch ìƒì„±", "ì‘ì—…+ì»¤ë°‹", "push", "PR ë¦¬ë·°", "squash merge", "branch ì‚­ì œ"].map((s, i) => (
        <div key={i} className="pipe-step">
          <span className="pipe-num">{i + 1}</span>
          <span className="pipe-text">{s}</span>
          {i < 6 && <span className="pipe-arr">â†’</span>}
        </div>
      ))}
    </div>
  );
}

function SquashDiagram() {
  return (
    <div className="diagram squash-diagram">
      <div className="sq-section">
        <div className="sq-header bad">ì¼ë°˜ Merge</div>
        <div className="sq-body">
          <div className="sq-branch-commits">
            <span className="sq-mini">ì´ˆì•ˆ ì‘ì„±</span>
            <span className="sq-mini">ì˜¤íƒ€ ìˆ˜ì •</span>
            <span className="sq-mini">ë‚´ìš© ì¶”ê°€</span>
          </div>
          <div className="sq-arrow-down">â†“ mainì— ê·¸ëŒ€ë¡œ ë“¤ì–´ê°</div>
          <div className="sq-result-area bad">
            <span className="sq-tag">main íˆìŠ¤í† ë¦¬</span>
            <div className="sq-result-commits">
              <span className="sq-mini">ì´ˆì•ˆ ì‘ì„±</span>
              <span className="sq-mini">ì˜¤íƒ€ ìˆ˜ì •</span>
              <span className="sq-mini">ë‚´ìš© ì¶”ê°€</span>
            </div>
            <span className="sq-verdict">ğŸ˜µ ì»¤ë°‹ 3ê°œ â€” ì§€ì €ë¶„!</span>
          </div>
        </div>
      </div>
      <div className="sq-vs-divider">VS</div>
      <div className="sq-section">
        <div className="sq-header good">Squash Merge âœ¨</div>
        <div className="sq-body">
          <div className="sq-branch-commits">
            <span className="sq-mini">ì´ˆì•ˆ ì‘ì„±</span>
            <span className="sq-mini">ì˜¤íƒ€ ìˆ˜ì •</span>
            <span className="sq-mini">ë‚´ìš© ì¶”ê°€</span>
          </div>
          <div className="sq-arrow-down good-arrow">â†“ í•˜ë‚˜ë¡œ í•©ì³ì„œ ë“¤ì–´ê°</div>
          <div className="sq-result-area good">
            <span className="sq-tag">main íˆìŠ¤í† ë¦¬</span>
            <div className="sq-result-commits">
              <span className="sq-mini big">feat: FAQ í˜ì´ì§€ ì¶”ê°€</span>
            </div>
            <span className="sq-verdict">âœ¨ ì»¤ë°‹ 1ê°œ â€” ê¹”ë”!</span>
          </div>
        </div>
      </div>
    </div>
  );
}

function CmdCard({ cmd, desc, state, fb, onClick }) {
  return (
    <div className={`cmd-card ${state || ""}`} onClick={state !== "correct" ? onClick : undefined}>
      <code>{cmd}</code>
      {desc && <p className="cmd-desc">{desc}</p>}
      {state === "wrong" && fb && <div className="cmd-fb">{fb}</div>}
    </div>
  );
}

function Terminal({ lines, input, onInput, onSubmit, placeholder, autocomplete }) {
  const [acItems, setAcItems] = useState([]);
  const [acOpen, setAcOpen] = useState(false);
  const inputRef = useRef(null);
  const endRef = useRef(null);
  useEffect(() => { endRef.current?.scrollIntoView({ behavior: "smooth" }); }, [lines]);
  useEffect(() => {
    if (autocomplete && input.length >= 3) {
      const m = autocomplete.filter(a => a.toLowerCase().startsWith(input.toLowerCase())).slice(0, 5);
      setAcItems(m); setAcOpen(m.length > 0);
    } else { setAcOpen(false); }
  }, [input, autocomplete]);
  const onKey = (e) => {
    if (e.key === "Enter") { onSubmit(); setAcOpen(false); }
    if (e.key === "Tab" && acOpen && acItems.length) { e.preventDefault(); onInput(acItems[0]); setAcOpen(false); }
  };
  return (
    <div className="terminal">
      <div className="term-bar"><span className="dot r" /><span className="dot y" /><span className="dot g" /><span className="term-title">Terminal</span></div>
      <div className="term-body">
        {lines.map((l, i) => <div key={i} className={`tl tl-${l.t}`}>{l.t === "in" && <span className="pr">$ </span>}{l.text}</div>)}
        <div className="tl-input"><span className="pr">$ </span>
          <input ref={inputRef} value={input} onChange={e => onInput(e.target.value)} onKeyDown={onKey} placeholder={placeholder} autoFocus />
          {acOpen && <div className="ac-popup">{acItems.map((a, i) => <div key={i} className="ac-item" onClick={() => { onInput(a); setAcOpen(false); inputRef.current?.focus(); }}>{a}</div>)}</div>}
        </div>
        <div ref={endRef} />
      </div>
    </div>
  );
}

function OrderPuzzle({ steps, onComplete }) {
  const [pool, setPool] = useState([]);
  const [slots, setSlots] = useState([]);
  const [wrongId, setWrongId] = useState(null);
  useEffect(() => { setPool([...steps].map((s, i) => ({ ...s, oi: i })).sort(() => Math.random() - 0.5)); setSlots([]); }, []);
  const pick = (item) => {
    const next = slots.length;
    if (item.oi === next) {
      setSlots([...slots, item]); setPool(pool.filter(p => p.oi !== item.oi)); setWrongId(null);
      if (next === steps.length - 1) setTimeout(onComplete, 500);
    } else { setWrongId(item.oi); setTimeout(() => setWrongId(null), 900); }
  };
  return (
    <div className="order-puzzle">
      <div className="order-slots">
        {steps.map((_, i) => (
          <div key={i} className={`o-slot ${i < slots.length ? "filled" : i === slots.length ? "next" : ""}`}>
            <span className="o-num">{i + 1}</span>
            {slots[i] && <code>{slots[i].cmd}</code>}
          </div>
        ))}
      </div>
      <p className="pool-label">ì˜¬ë°”ë¥¸ ìˆœì„œë¡œ í´ë¦­í•˜ì„¸ìš”:</p>
      <div className="pool-cards">
        {pool.map(item => (
          <div key={item.oi} className={`p-card ${wrongId === item.oi ? "shake" : ""}`} onClick={() => pick(item)}>
            <code>{item.cmd}</code>
            {wrongId === item.oi && <div className="p-wrong">ìˆœì„œê°€ ë§ì§€ ì•Šì•„ìš”!</div>}
          </div>
        ))}
      </div>
    </div>
  );
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// MAIN APP
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

function App() {
  const [view, setView] = useState("home"); // home | stage | final | victory
  const [fade, setFade] = useState("in");
  const [chId, setChId] = useState(null);
  const [stIdx, setStIdx] = useState(0);
  const [stepIdx, setStepIdx] = useState(0);
  const [cards, setCards] = useState({});
  const [tLines, setTLines] = useState([]);
  const [tInput, setTInput] = useState("");
  const [done, setDone] = useState(false);
  const [progress, setProgress] = useState(() => {
    const p = {}; CHAPTERS.forEach(c => { p[c.id] = new Array(c.stages.length).fill(false); }); return p;
  });

  const go = useCallback((next, data) => {
    setFade("out");
    setTimeout(() => {
      setStepIdx(0); setCards({}); setTLines([]); setTInput(""); setDone(false);
      if (next === "home") { setView("home"); }
      else if (next === "stage") { setView("stage"); setChId(data.c); setStIdx(data.s); }
      else if (next === "final") { setView("final"); }
      else if (next === "victory") { setView("victory"); }
      setFade("in");
    }, 350);
  }, []);

  const ch = chId != null ? CHAPTERS.find(c => c.id === chId) : null;
  const stage = ch ? ch.stages[stIdx] : null;

  const markDone = () => {
    if (!ch) return;
    setProgress(p => { const n = { ...p }; n[ch.id] = [...n[ch.id]]; n[ch.id][stIdx] = true; return n; });
  };

  const nextStage = () => {
    markDone();
    if (stIdx < ch.stages.length - 1) go("stage", { c: chId, s: stIdx + 1 });
    else go("home");
  };

  // Select mode
  const pickCard = (opt, si) => {
    if (cards[`${si}-ok`]) return;
    if (opt.correct) {
      setCards(p => ({ ...p, [`${si}-${opt.cmd}`]: "correct", [`${si}-ok`]: true }));
      setTLines(p => [...p, { t: "in", text: opt.cmd }, { t: "ok", text: "âœ… ì •ë‹µ!" }]);
      if (si === stage.steps.length - 1) setTimeout(() => setDone(true), 700);
      else setTimeout(() => setStepIdx(si + 1), 500);
    } else {
      setCards(p => ({ ...p, [`${si}-${opt.cmd}`]: "wrong" }));
      setTLines(p => [...p, { t: "err", text: `âš ï¸ ${opt.fb || "ë‹¤ì‹œ ìƒê°í•´ë³´ì„¸ìš”!"}` }]);
      setTimeout(() => setCards(p => ({ ...p, [`${si}-${opt.cmd}`]: "" })), 1000);
    }
  };

  // Free mode
  const acList = ["git add","git add .","git commit","git commit -m","git push","git push origin","git pull","git pull origin main","git checkout","git checkout main","git checkout -b","git merge","git merge --squash","git branch","git branch -d","git rebase","git rebase main","git stash","git stash pop","git revert","git revert HEAD","git restore","git log","git log --oneline","git diff","git status","git clone"];

  const submitFree = (steps, isFinal) => {
    if (!tInput.trim()) return;
    const val = tInput.trim(); setTInput("");
    if (val === "hint") { setTLines(p => [...p, { t: "in", text: val }, { t: "hint", text: `ğŸ’¡ ${steps[stepIdx].hint}` }]); return; }
    const match = steps[stepIdx].expected.some(e => val.toLowerCase().startsWith(e.toLowerCase()));
    if (match) {
      setTLines(p => [...p, { t: "in", text: val }, { t: "ok", text: `âœ… ${steps[stepIdx].ok}` }]);
      if (stepIdx < steps.length - 1) setStepIdx(stepIdx + 1);
      else { if (isFinal) setTimeout(() => go("victory"), 800); else setTimeout(() => setDone(true), 600); }
    } else {
      setTLines(p => [...p, { t: "in", text: val }, { t: "err", text: "âŒ ë‹¤ì‹œ í™•ì¸í•´ë³´ì„¸ìš”. 'hint' ì…ë ¥ìœ¼ë¡œ íŒíŠ¸!" }]);
    }
  };

  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // RENDER
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  const getDiagram = (type) => {
    if (type === "flow") return <GitFlowDiagram />;
    if (type === "branch") return <BranchDiagram />;
    if (type === "pipeline") return <PipelineDiagram />;
    if (type === "squash") return <SquashDiagram />;
    return null;
  };

  return (
    <div className={`app fade-${fade}`}>

      {/* HOME */}
      {view === "home" && (
        <div className="home">
          <div className="home-head anim">
            <h1 className="logo">ğŸŒ¿ Git Quest</h1>
            <p className="logo-sub">Trunk-Based Development ë§ˆìŠ¤í„°í•˜ê¸°</p>
          </div>
          <div className="chapters">
            {CHAPTERS.map(c => {
              const d = progress[c.id].filter(Boolean).length;
              const t = c.stages.length;
              return (
                <div key={c.id} className="ch-section">
                  <div className="ch-head" style={{ "--cc": c.color }}>
                    <span className="ch-icon">{c.icon}</span>
                    <div><h2>Chapter {c.id}: {c.title}</h2><span className="ch-prog">{d}/{t} ì™„ë£Œ</span></div>
                    <div className="ch-bar"><div className="ch-fill" style={{ width: `${(d / t) * 100}%` }} /></div>
                  </div>
                  <div className="st-list">
                    {c.stages.map((s, si) => (
                      <div key={s.id} className={`st-card ${progress[c.id][si] ? "st-done" : ""}`} onClick={() => go("stage", { c: c.id, s: si })}>
                        <span className="st-id">{s.id}</span>
                        <span className="st-title">{s.title}</span>
                        {progress[c.id][si] && <span className="st-check">âœ…</span>}
                        <span className="st-arrow">â†’</span>
                      </div>
                    ))}
                  </div>
                </div>
              );
            })}
            <div className="ch-section final-section">
              <div className="st-card final-card" onClick={() => go("final")}>
                <span className="st-id">ğŸ†</span>
                <span className="st-title">ìµœì¢… ë¯¸ì…˜: ì‹¤ì „ ì‹œë®¬ë ˆì´ì…˜</span>
                <span className="st-arrow">â†’</span>
              </div>
            </div>
          </div>
        </div>
      )}

      {/* STAGE */}
      {view === "stage" && stage && (
        <div className="stage">
          <div className="s-top anim">
            <button className="btn-back" onClick={() => go("home")}>â† ëª©ë¡</button>
            <span className="s-badge" style={{ background: ch.color }}>{ch.icon} {stage.id}</span>
            <h2>{stage.title}</h2>
          </div>

          {/* INTRO MODE â€” Git ì†Œê°œ */}
          {stage.mode === "intro" && stage.intro && (
            <div className="intro-screen">
              {/* Before vs After */}
              <div className="intro-compare anim">
                <div className="intro-box intro-bad">
                  <div className="intro-box-head">
                    <span className="intro-icon">{stage.intro.before.icon}</span>
                    <h3>{stage.intro.before.title}</h3>
                  </div>
                  <div className="intro-files">
                    {stage.intro.before.files.map((f, i) => (
                      <div key={i} className="intro-file" style={{ animationDelay: `${i * 0.08}s` }}>{f}</div>
                    ))}
                  </div>
                  <div className="intro-tags">
                    {stage.intro.before.problems.map((p, i) => (
                      <span key={i} className="intro-tag bad">âŒ {p}</span>
                    ))}
                  </div>
                </div>

                <div className="intro-arrow-big anim d1">â†’</div>

                <div className="intro-box intro-good">
                  <div className="intro-box-head">
                    <span className="intro-icon">{stage.intro.after.icon}</span>
                    <h3>{stage.intro.after.title}</h3>
                  </div>
                  <div className="intro-files">
                    {stage.intro.after.files.map((f, i) => (
                      <div key={i} className="intro-file good">{f}</div>
                    ))}
                  </div>
                  <div className="intro-tags">
                    {stage.intro.after.benefits.map((b, i) => (
                      <span key={i} className="intro-tag good">âœ… {b}</span>
                    ))}
                  </div>
                </div>
              </div>

              {/* Summary */}
              <div className="intro-summary anim d1">
                <span className="intro-summary-text">{stage.intro.summary}</span>
              </div>

              {/* How it works */}
              <div className="intro-how anim d2">
                <h3>{stage.intro.howItWorks.title}</h3>
                <div className="intro-flow">
                  {stage.intro.howItWorks.steps.map((s, i) => (
                    <div key={i} className={s.arrow ? "intro-flow-arrow" : "intro-flow-box"}>
                      {s.arrow ? (
                        <>
                          <div className="ifa-line" />
                          <code className="ifa-cmd">{s.arrow}</code>
                          <div className="ifa-line" />
                        </>
                      ) : (
                        <>
                          <span className="ifb-icon">{s.icon}</span>
                          <span className="ifb-name">{s.name}</span>
                          <span className="ifb-sub">{s.sub}</span>
                          <span className="ifb-desc">{s.desc}</span>
                        </>
                      )}
                    </div>
                  ))}
                </div>
                <div className="intro-analogy">ğŸ’¡ {stage.intro.howItWorks.analogy}</div>
              </div>

              {/* Next button */}
              <div className="intro-action anim d2">
                <button className="btn-primary" onClick={nextStage}>ì´í•´í–ˆì–´ìš”! ì§ì ‘ í•´ë³¼ê²Œìš” â†’</button>
              </div>
            </div>
          )}

          {/* NON-INTRO: desc + diagram */}
          {stage.mode !== "intro" && (
            <>
              <div className="s-desc anim d1">{stage.desc.split('\n').map((line, i) => <p key={i} className={line.trim() === '' ? 's-desc-gap' : ''}>{line}</p>)}</div>
              {stage.diagram && <div className="anim d2">{getDiagram(stage.diagram)}</div>}
            </>
          )}

          {/* SELECT MODE */}
          {!stage.mode && stage.steps && (
            <div className="anim d2">
              {stage.steps.map((step, si) => (
                <div key={si} className={`step ${si < stepIdx ? "step-done" : si === stepIdx ? "step-active" : "step-locked"}`}>
                  <div className="step-head">
                    <span className="step-n">{si + 1}</span>
                    <p>{step.instruction}</p>
                  </div>
                  {si === stepIdx && (
                    <div className="cmd-cards anim">
                      {step.options.map((o, oi) => (
                        <CmdCard key={oi} cmd={o.cmd} desc={o.desc} state={cards[`${si}-${o.cmd}`]} fb={o.fb} onClick={() => pickCard(o, si)} />
                      ))}
                    </div>
                  )}
                  {si < stepIdx && <div className="step-ok">âœ…</div>}
                </div>
              ))}
              <Terminal lines={tLines} input="" onInput={() => {}} onSubmit={() => {}} placeholder="ëª…ë ¹ì–´ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤" />
            </div>
          )}

          {/* ORDER MODE */}
          {stage.mode === "order" && (
            <div className="anim d2">
              <OrderPuzzle steps={stage.orderSteps} onComplete={() => setDone(true)} />
            </div>
          )}

          {/* FREE MODE */}
          {stage.mode === "free" && (
            <div className="anim d2">
              <div className="free-dots">
                {stage.freeSteps.map((_, i) => <div key={i} className={`fd ${i < stepIdx ? "fd-done" : i === stepIdx ? "fd-cur" : ""}`} />)}
              </div>
              <Terminal lines={tLines} input={tInput} onInput={setTInput} onSubmit={() => submitFree(stage.freeSteps, false)}
                placeholder={`Step ${stepIdx + 1}/${stage.freeSteps.length} â€” 'hint'ë¡œ íŒíŠ¸`} autocomplete={acList} />
            </div>
          )}

          {done && (
            <div className="overlay anim">
              <div className="done-card bounce">
                <div className="done-emoji">ğŸ‰</div>
                <h3>Stage Clear!</h3>
                <button className="btn-primary" onClick={nextStage}>
                  {stIdx < ch.stages.length - 1 ? "ë‹¤ìŒ â†’" : "ì±•í„° ì™„ë£Œ â†’"}
                </button>
              </div>
            </div>
          )}
        </div>
      )}

      {/* FINAL */}
      {view === "final" && (
        <div className="stage">
          <div className="s-top anim">
            <button className="btn-back" onClick={() => go("home")}>â† ëª©ë¡</button>
            <span className="s-badge" style={{ background: "#8b5cf6" }}>ğŸ†</span>
            <h2>{FINAL_MISSION.title}</h2>
          </div>
          <p className="s-desc anim d1">{FINAL_MISSION.desc}</p>
          <div className="anim d2">
            <div className="free-dots">
              {FINAL_MISSION.freeSteps.map((_, i) => <div key={i} className={`fd ${i < stepIdx ? "fd-done" : i === stepIdx ? "fd-cur" : ""}`} />)}
            </div>
            <Terminal lines={tLines} input={tInput} onInput={setTInput} onSubmit={() => submitFree(FINAL_MISSION.freeSteps, true)}
              placeholder={`Step ${stepIdx + 1}/${FINAL_MISSION.freeSteps.length} â€” ë³´ê¸° ì—†ì´ ë„ì „! 'hint' ê°€ëŠ¥`} autocomplete={acList} />
          </div>
        </div>
      )}

      {/* VICTORY */}
      {view === "victory" && (
        <div className="victory">
          <div className="v-content bounce">
            <div className="v-trophy">ğŸ†</div>
            <h1>Git Quest ì™„ë£Œ!</h1>
            <p className="v-sub">Trunk-Based Development ë§ˆìŠ¤í„°</p>
            <div className="cheat">
              <h3>ğŸ“‹ Quick Reference</h3>
              <div className="cheat-list">
                {[
                  ["git checkout -b feature/xxx", "ë¸Œëœì¹˜ ìƒì„±"],
                  ["git add . â†’ git commit -m \"\"", "ì €ì¥"],
                  ["git push origin feature/xxx", "Push"],
                  ["git merge --squash feature/xxx", "Squash Merge"],
                  ["git branch -d feature/xxx", "ë¸Œëœì¹˜ ì‚­ì œ"],
                  ["git stash / git stash pop", "ì„ì‹œ ë³´ê´€"],
                  ["git revert HEAD", "ì•ˆì „í•˜ê²Œ ë˜ëŒë¦¬ê¸°"],
                ].map(([cmd, label], i) => (
                  <div key={i} className="cheat-row"><code>{cmd}</code><span>{label}</span></div>
                ))}
              </div>
            </div>
            <button className="btn-primary" onClick={() => go("home")}>ë‹¤ì‹œ ë„ì „</button>
          </div>
        </div>
      )}

      <style>{`
*{margin:0;padding:0;box-sizing:border-box}
:root{
  --bg:#0b0b12;--bg2:#13131f;--bg3:#1c1c30;--sf:#161628;
  --bd:#282848;--tx:#e4e4f0;--tx2:#8888a8;
  --ac:#6366f1;--gn:#10b981;--rd:#ef4444;--yw:#f59e0b;--pk:#ec4899;
  --fn:'Noto Sans KR',sans-serif;--mo:'JetBrains Mono',monospace;
}
.app{min-height:100vh;background:var(--bg);color:var(--tx);font-family:var(--fn);position:relative}
.app::after{content:'';position:fixed;inset:0;background:var(--bg);pointer-events:none;z-index:9998;opacity:0;transition:opacity .35s ease}
.app.fade-out::after{opacity:1}
.app.fade-in::after{opacity:0}

@keyframes fadeUp{from{opacity:0;transform:translateY(16px)}to{opacity:1;transform:translateY(0)}}
@keyframes bounceIn{0%{opacity:0;transform:scale(.4)}60%{transform:scale(1.05)}100%{opacity:1;transform:scale(1)}}
@keyframes shake{0%,100%{transform:translateX(0)}25%{transform:translateX(-6px)}75%{transform:translateX(6px)}}
@keyframes pulse{0%,100%{box-shadow:0 0 0 0 rgba(99,102,241,.4)}50%{box-shadow:0 0 0 8px rgba(99,102,241,0)}}
.anim{animation:fadeUp .45s ease both}.d1{animation-delay:.12s}.d2{animation-delay:.24s}
.bounce{animation:bounceIn .5s ease both}.shake{animation:shake .35s ease}

/* BUTTONS */
.btn-primary{padding:12px 28px;background:linear-gradient(135deg,var(--ac),#818cf8);color:#fff;border:none;border-radius:10px;font:600 15px var(--fn);cursor:pointer;transition:all .2s}
.btn-primary:hover{transform:translateY(-2px);box-shadow:0 6px 20px rgba(99,102,241,.4)}
.btn-back{background:var(--sf);border:1px solid var(--bd);color:var(--tx2);padding:6px 14px;border-radius:8px;cursor:pointer;font:14px var(--fn);transition:all .2s}
.btn-back:hover{border-color:var(--ac);color:var(--tx)}

/* HOME */
.home{max-width:720px;margin:0 auto;padding:40px 20px 80px}
.home-head{text-align:center;margin-bottom:32px}
.logo{font-size:40px;font-weight:900;background:linear-gradient(135deg,#6366f1,#10b981);-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.logo-sub{color:var(--tx2);margin-top:4px;font-size:15px}
.chapters{display:flex;flex-direction:column;gap:24px}
.ch-section{background:var(--sf);border:1px solid var(--bd);border-radius:14px;overflow:hidden}
.ch-head{display:flex;align-items:center;gap:12px;padding:16px 20px;flex-wrap:wrap}
.ch-icon{font-size:28px}
.ch-head h2{font-size:16px;font-weight:700}
.ch-prog{font-size:12px;color:var(--tx2)}
.ch-bar{width:80px;height:4px;background:var(--bg3);border-radius:2px;overflow:hidden;margin-left:auto}
.ch-fill{height:100%;background:linear-gradient(90deg,var(--ac),var(--gn));border-radius:2px;transition:width .5s}
.st-list{border-top:1px solid var(--bd)}
.st-card{display:flex;align-items:center;gap:10px;padding:14px 20px;cursor:pointer;transition:background .15s;border-bottom:1px solid rgba(255,255,255,.03)}
.st-card:last-child{border-bottom:none}
.st-card:hover{background:rgba(99,102,241,.06)}
.st-id{font:600 13px var(--mo);color:var(--ac);min-width:32px}
.st-title{flex:1;font-size:15px}
.st-check{font-size:14px}
.st-arrow{color:var(--tx2);font-size:14px}
.st-done{opacity:.6}
.st-done:hover{opacity:1}
.final-section .st-card{border:1px dashed var(--bd);border-radius:14px;margin:0}
.final-card:hover{border-color:#8b5cf6}

/* STAGE */
.stage{max-width:720px;margin:0 auto;padding:28px 20px 120px}
.s-top{display:flex;align-items:center;gap:10px;flex-wrap:wrap;margin-bottom:8px}
.s-badge{padding:3px 10px;border-radius:99px;color:#fff;font-size:13px;font-weight:600}
.s-top h2{font-size:22px;font-weight:700}
.s-desc{color:var(--tx2);font-size:14px;line-height:1.7;padding:14px 16px;background:var(--sf);border:1px solid var(--bd);border-radius:10px;margin-bottom:16px}
.s-desc p{margin:0}.s-desc-gap{height:8px}

/* DIAGRAMS */
.diagram{padding:16px;background:var(--bg2);border:1px solid var(--bd);border-radius:10px;margin-bottom:16px;overflow-x:auto}

/* Flow Diagram */
.flow-diagram{display:flex;align-items:center;gap:0;justify-content:center;flex-wrap:wrap}
.flow-group{display:flex;align-items:center}
.flow-arrow{display:flex;align-items:center;gap:4px;padding:0 10px;color:var(--tx2)}
.arrow-cmd{font:12px var(--mo)}
.arrow-icon{font-size:16px}
.flow-box{display:flex;flex-direction:column;align-items:center;gap:2px;padding:14px 18px;background:var(--sf);border:2px solid;border-radius:10px;min-width:100px}
.flow-emoji{font-size:24px}.flow-name{font-size:14px;font-weight:700}.flow-sub{font-size:10px;color:var(--tx2);font-family:var(--mo)}

/* Branch Diagram */
.branch-diagram{padding:20px}
.bd-label{text-align:center;font-size:13px;color:var(--tx2);margin-bottom:16px;font-style:italic}
.bd-visual{display:flex;flex-direction:column;gap:0}
.bd-track{margin-bottom:4px}
.bd-track-label{display:flex;align-items:center;gap:8px;margin-bottom:6px;flex-wrap:wrap}
.bd-tag{font:600 12px var(--mo);padding:3px 10px;border-radius:99px}
.main-tag{background:rgba(16,185,129,.15);color:var(--gn)}
.feat-tag{background:rgba(236,72,153,.15);color:var(--pk)}
.bd-track-desc{font-size:12px;color:var(--tx2)}
.bd-line{display:flex;align-items:center;gap:0;padding:6px 0;padding-left:4px;position:relative}
.bd-line::before{content:'';position:absolute;left:4px;right:0;top:50%;height:3px;border-radius:2px}
.main-line::before{background:rgba(16,185,129,.25)}
.feat-line::before{background:rgba(236,72,153,.25)}
.bd-node{width:16px;height:16px;border-radius:50%;background:var(--gn);border:3px solid var(--bg2);position:relative;z-index:1;margin-right:28px;flex-shrink:0}
.bd-node.feat{background:var(--pk);width:14px;height:14px}
.bd-connector{display:none}
.bd-node-add{font-size:12px;color:var(--pk);position:relative;z-index:1;white-space:nowrap}
.bd-fork-area{display:flex;align-items:center;gap:8px;padding:4px 0 4px 20px}
.bd-fork-line{width:20px;height:20px;border-left:2px dashed var(--tx2);border-bottom:2px dashed var(--tx2);border-radius:0 0 0 8px}
.bd-fork-label{font:600 11px var(--mo);color:var(--ac);background:rgba(99,102,241,.1);padding:2px 8px;border-radius:4px}
.bd-bottom{text-align:center;font-size:13px;color:var(--gn);margin-top:12px;padding:8px;background:rgba(16,185,129,.06);border-radius:6px}

/* Pipeline Diagram */
.pipeline-diagram{display:flex;align-items:center;gap:0;flex-wrap:wrap;padding:12px}
.pipe-step{display:flex;align-items:center;gap:4px}
.pipe-num{width:20px;height:20px;border-radius:50%;background:var(--ac);color:#fff;font-size:11px;font-weight:700;display:flex;align-items:center;justify-content:center;flex-shrink:0}
.pipe-text{font-size:12px;white-space:nowrap}.pipe-arr{color:var(--tx2);margin:0 4px}

/* Squash Diagram */
.squash-diagram{display:flex;gap:12px;align-items:stretch;flex-wrap:wrap}
.sq-section{flex:1;min-width:220px;display:flex;flex-direction:column}
.sq-header{text-align:center;font-size:14px;font-weight:700;padding:8px;border-radius:8px 8px 0 0}
.sq-header.bad{background:rgba(239,68,68,.1);color:var(--rd)}
.sq-header.good{background:rgba(16,185,129,.1);color:var(--gn)}
.sq-body{background:var(--bg3);border-radius:0 0 8px 8px;padding:14px;flex:1;display:flex;flex-direction:column;gap:8px}
.sq-branch-commits{display:flex;gap:4px;flex-wrap:wrap}
.sq-mini{font:12px var(--mo);padding:4px 8px;background:var(--sf);border:1px solid var(--bd);border-radius:6px;white-space:nowrap}
.sq-mini.big{border-color:var(--gn);color:var(--gn);background:rgba(16,185,129,.06)}
.sq-arrow-down{text-align:center;font-size:12px;color:var(--tx2);padding:4px 0}
.sq-arrow-down.good-arrow{color:var(--gn)}
.sq-result-area{padding:10px;border-radius:6px;border:1px dashed var(--bd)}
.sq-result-area.bad{border-color:rgba(239,68,68,.2)}
.sq-result-area.good{border-color:rgba(16,185,129,.3);background:rgba(16,185,129,.03)}
.sq-tag{font-size:10px;color:var(--tx2);display:block;margin-bottom:6px}
.sq-result-commits{display:flex;gap:4px;flex-wrap:wrap;margin-bottom:6px}
.sq-verdict{font-size:12px;font-weight:600}
.sq-vs-divider{display:flex;align-items:center;justify-content:center;font-size:13px;font-weight:700;color:var(--tx2);padding:0 4px}

/* SELECT STEPS */
.step{margin-bottom:16px;transition:opacity .3s}
.step-locked{opacity:.25;pointer-events:none}.step-done{opacity:.5}
.step-head{display:flex;align-items:baseline;gap:8px;margin-bottom:8px}
.step-n{font:700 12px var(--mo);color:var(--ac);background:rgba(99,102,241,.12);padding:2px 10px;border-radius:99px}
.step-head p{font-size:15px}
.step-ok{color:var(--gn);font-size:13px}
.cmd-cards{display:flex;gap:8px;flex-wrap:wrap;margin-bottom:8px}
.cmd-card{flex:1;min-width:160px;padding:12px 14px;background:var(--sf);border:2px solid var(--bd);border-radius:10px;cursor:pointer;transition:all .2s}
.cmd-card:hover{border-color:#818cf8;transform:translateY(-2px);box-shadow:0 4px 16px rgba(0,0,0,.2)}
.cmd-card.correct{border-color:var(--gn);background:rgba(16,185,129,.08);cursor:default}
.cmd-card.wrong{border-color:var(--rd);animation:shake .35s}
.cmd-card code{font:600 14px var(--mo);display:block}
.cmd-desc{font-size:12px;color:var(--tx2);margin-top:4px}
.cmd-fb{font-size:12px;color:var(--yw);margin-top:6px;padding-top:6px;border-top:1px solid var(--bd);line-height:1.5;animation:fadeUp .3s ease}

/* ORDER */
.order-puzzle{margin:16px 0}
.order-slots{display:flex;flex-wrap:wrap;gap:6px;margin-bottom:16px}
.o-slot{display:flex;align-items:center;gap:6px;padding:8px 12px;background:var(--bg3);border:2px dashed var(--bd);border-radius:8px;min-height:38px;min-width:100px;transition:all .3s}
.o-slot.filled{border-style:solid;border-color:var(--gn);background:rgba(16,185,129,.06);animation:fadeUp .25s ease}
.o-slot.next{border-color:var(--ac);animation:pulse 1.5s infinite}
.o-num{font:700 11px var(--mo);color:var(--tx2);background:var(--sf);padding:2px 7px;border-radius:99px}
.o-slot code{font:13px var(--mo);color:var(--gn)}
.pool-label{font-size:13px;color:var(--tx2);margin-bottom:8px}
.pool-cards{display:flex;flex-wrap:wrap;gap:6px}
.p-card{padding:8px 14px;background:var(--sf);border:1px solid var(--bd);border-radius:8px;cursor:pointer;transition:all .2s;position:relative}
.p-card:hover{border-color:var(--ac);transform:translateY(-2px);box-shadow:0 4px 12px rgba(0,0,0,.2)}
.p-card code{font:13px var(--mo)}
.p-wrong{position:absolute;top:100%;left:0;right:0;padding:4px 8px;background:var(--rd);color:#fff;font-size:11px;border-radius:0 0 8px 8px;text-align:center;z-index:10}

/* FREE MODE */
.free-dots{display:flex;gap:5px;margin-bottom:12px}
.fd{width:8px;height:8px;border-radius:50%;background:var(--bd);transition:all .3s}
.fd-done{background:var(--gn)}.fd-cur{background:var(--ac);box-shadow:0 0 8px var(--ac)}

/* TERMINAL */
.terminal{background:#0a0a10;border:1px solid var(--bd);border-radius:10px;overflow:hidden;font:14px var(--mo);margin-top:12px}
.term-bar{display:flex;align-items:center;gap:5px;padding:8px 12px;background:var(--bg3);border-bottom:1px solid var(--bd)}
.dot{width:9px;height:9px;border-radius:50%}.dot.r{background:#ef4444}.dot.y{background:#f59e0b}.dot.g{background:#10b981}
.term-title{font-size:11px;color:var(--tx2);margin-left:6px}
.term-body{padding:12px;max-height:260px;overflow-y:auto}
.tl{padding:2px 0;line-height:1.5}
.tl-in{color:var(--tx)}.tl-ok{color:var(--gn)}.tl-err{color:var(--rd)}.tl-hint{color:var(--yw)}
.pr{color:var(--ac);font-weight:600}
.tl-input{display:flex;align-items:center;padding:4px 0;position:relative}
.tl-input input{flex:1;background:none;border:none;outline:none;color:var(--tx);font:14px var(--mo);caret-color:var(--ac)}
.tl-input input::placeholder{color:#3a3a58}
.ac-popup{position:absolute;bottom:100%;left:14px;background:var(--bg3);border:1px solid var(--bd);border-radius:6px;padding:3px;z-index:100;min-width:250px}
.ac-item{padding:6px 10px;cursor:pointer;border-radius:4px;font-size:13px}.ac-item:hover{background:rgba(99,102,241,.2)}

/* OVERLAY */
.overlay{position:fixed;inset:0;background:rgba(0,0,0,.65);display:flex;align-items:center;justify-content:center;z-index:999;backdrop-filter:blur(6px)}
.done-card{background:var(--sf);border:1px solid var(--bd);border-radius:16px;padding:36px;text-align:center}
.done-emoji{font-size:44px;margin-bottom:8px}
.done-card h3{font-size:22px;margin-bottom:16px}

/* VICTORY */
.victory{min-height:100vh;display:flex;align-items:center;justify-content:center;padding:24px;
  background:radial-gradient(ellipse at 30% 20%,rgba(99,102,241,.12),transparent 50%),radial-gradient(ellipse at 70% 80%,rgba(16,185,129,.08),transparent 50%),var(--bg)}
.v-content{text-align:center;max-width:560px;width:100%}
.v-trophy{font-size:72px;margin-bottom:8px}
.v-content h1{font-size:36px;font-weight:900;margin-bottom:4px}
.v-sub{color:var(--tx2);font-size:16px;margin-bottom:24px}
.cheat{text-align:left;background:var(--sf);border:1px solid var(--bd);border-radius:14px;padding:20px;margin-bottom:20px}
.cheat h3{font-size:15px;margin-bottom:12px}
.cheat-list{display:flex;flex-direction:column;gap:8px}
.cheat-row{display:flex;justify-content:space-between;align-items:center;gap:12px;padding:6px 0;border-bottom:1px solid var(--bd);flex-wrap:wrap}
.cheat-row code{font:13px var(--mo);color:var(--gn)}.cheat-row span{font-size:13px;color:var(--tx2)}

@media(max-width:640px){
  .logo{font-size:28px}
  .flow-diagram{flex-direction:column}.flow-arrow{transform:rotate(90deg);padding:6px 0}
  .cmd-cards{flex-direction:column}
  .order-slots{flex-direction:column}
  .pipeline-diagram{justify-content:center}
  .squash-diagram{flex-direction:column}
  .intro-compare{flex-direction:column}
  .intro-arrow-big{transform:rotate(90deg)}
  .intro-flow{flex-direction:column;align-items:stretch}
  .intro-flow-arrow{flex-direction:row;justify-content:center;padding:4px 0}
  .ifa-line{width:20px;height:2px}
}

/* INTRO SCREEN */
.intro-screen{margin-top:8px}
.intro-compare{display:flex;gap:16px;align-items:stretch;margin-bottom:20px}
.intro-box{flex:1;padding:20px;border-radius:12px;border:1px solid var(--bd);background:var(--sf);min-width:0}
.intro-bad{border-color:rgba(239,68,68,.3)}
.intro-good{border-color:rgba(16,185,129,.3)}
.intro-box-head{display:flex;align-items:center;gap:8px;margin-bottom:12px}
.intro-icon{font-size:24px}
.intro-box-head h3{font-size:16px;font-weight:700}
.intro-files{display:flex;flex-direction:column;gap:4px;margin-bottom:12px}
.intro-file{font:13px var(--mo);padding:6px 10px;background:var(--bg3);border-radius:6px;animation:fadeUp .3s ease both;color:var(--tx2)}
.intro-file.good{color:var(--gn);background:rgba(16,185,129,.06)}
.intro-tags{display:flex;flex-direction:column;gap:4px}
.intro-tag{font-size:13px;line-height:1.5}
.intro-tag.bad{color:var(--rd)}.intro-tag.good{color:var(--gn)}
.intro-arrow-big{font-size:28px;color:var(--tx2);display:flex;align-items:center;justify-content:center;flex-shrink:0}

.intro-summary{text-align:center;padding:16px 20px;background:linear-gradient(135deg,rgba(99,102,241,.08),rgba(16,185,129,.06));border:1px solid rgba(99,102,241,.2);border-radius:12px;margin-bottom:20px}
.intro-summary-text{font-size:18px;font-weight:700}

.intro-how{background:var(--sf);border:1px solid var(--bd);border-radius:12px;padding:20px;margin-bottom:20px}
.intro-how h3{font-size:16px;font-weight:700;margin-bottom:16px;text-align:center}
.intro-flow{display:flex;align-items:center;justify-content:center;gap:0}
.intro-flow-box{display:flex;flex-direction:column;align-items:center;gap:3px;padding:14px 16px;background:var(--bg2);border:1px solid var(--bd);border-radius:10px;min-width:110px;text-align:center}
.ifb-icon{font-size:24px}
.ifb-name{font-size:14px;font-weight:700}
.ifb-sub{font:10px var(--mo);color:var(--tx2)}
.ifb-desc{font-size:11px;color:var(--tx2);margin-top:2px}
.intro-flow-arrow{display:flex;flex-direction:column;align-items:center;gap:2px;padding:0 8px;color:var(--tx2)}
.ifa-line{width:2px;height:12px;background:var(--tx2);border-radius:1px}
.ifa-cmd{font:600 11px var(--mo);color:var(--ac);white-space:nowrap}
.intro-analogy{text-align:center;font-size:14px;color:var(--yw);margin-top:16px;padding:10px;background:rgba(245,158,11,.06);border-radius:8px}
.intro-action{text-align:center;margin-top:8px}
      `}</style>
    </div>
  );
}

const root = ReactDOM.createRoot(document.getElementById('root'));
root.render(React.createElement(App));
</script>
</body>
</html>
